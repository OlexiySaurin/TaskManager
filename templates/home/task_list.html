{% extends "base.html" %}
{% load humanize %}
{% load static %}

{% block content %}
<h1 class="m-4">{{ user.username }}'s tasks</h1>
{% if task_list %}
  {% for task in task_list %}
      <div class="card text-dark bg-light mb-3" style="max-width: 30rem;">
          <div class="card-header">
              <small class="text-muted">Last updated: {{ task.updated_at|naturaltime }}</small>
          </div>
          <div class="card-body">
              <div class="card-title">
                  <h4>{{ task.name }}</h4>
              </div>
              <div class="card-text text-muted">{{ task.description }}</div> <br>
              <a class="card-link text-muted" href="{% url 'home:task_update' task.id %}">Edit</a>
              <a class="card-link text-muted" href="{% url 'home:task_delete' task.id %}">Delete</a>
          </div>
      </div>
  {% endfor %}
{% else %}
  <h5>You have no tasks. Create new task.</h5>
{% endif %}
<p>
<a class="btn btn-secondary" href="{% url 'home:task_create' %}">Create new Task</a>
<form action="{% url 'logout' %}" method="post">
    {% csrf_token %}
    <button class="btn btn-danger" type="submit">Logout</button>
    <input type="hidden" name="next" value="{% url "login" %}" />
</form>
</p>
{% endblock %}